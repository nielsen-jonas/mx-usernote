{% extends "layout/base.html" %}

{% block content %}
	{% embed "layout/banner.html" %}
		{% block id %}generic-banner{% endblock %}
		{% block content %}
			<h1><span class='fa fa-warning fa-1x'></span> Delete account</h1>
			<form id="form-deregister" method="POST">
				<div class="form-group">
					<label for="username" class="form-control-label">Username</label>
					<input id="username" class="form-control" type="text" value="{{ username }}">
				</div>
				<div class="form-group">
					<label for="password" class="form-control-label">Password</label>
					<input id="password" class="form-control" type="password" name="password">
				</div>
				<input class="btn btn-secondary" type="submit" value="Delete">
			</form>
		{% endblock %}
	{% endembed %}
{% endblock %}

{% block body %}
	{{ parent() }}
	<script
		src="https://code.jquery.com/jquery-3.0.0.min.js"
		integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="
		crossorigin="anonymous"
	></script>
	<script>
		$(function(){
			$('#form-deregister').submit(function(){
				var username = $('#username').val();
				$(this).attr('action', '{{ route_pre.deregister }}' + username);
			});
		});
	</script>
{% endblock %}