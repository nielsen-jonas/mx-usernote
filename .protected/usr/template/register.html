{% extends "layout/base.html" %}

{% block title %}{{ title }}{% endblock %}
{% block head %}
	{{ parent() }}
{% endblock %}

{% block header %}
	{{ parent() }}
{% endblock %}

{% block content %}
	<h1>Register</h1>
	<form id="form-register" method="POST">
		<div>
			<label for="username">Username</label>
			<input id="username" type="text" placeholder="No whitespace allowed">
		</div>
		<div>
			<label for="password">Password</label>
			<input id="password" type="password" name="password">
		</div>
		<input type="submit" value="Register">
	</form>
{% endblock %}

{% block footer %}
	{{ parent() }}
{% endblock %}

{% block body %}
	{{ parent() }}
	<script
		src="https://code.jquery.com/jquery-3.0.0.min.js"
		integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="
		crossorigin="anonymous"
	></script>
	<script>
		$(function(){
			$('#form-register').submit(function(){
				var username = $('#username').val();
				$(this).attr('action', '{{ form_action }}' + username);
			});
		});
	</script>
{% endblock %}